{% load staticfiles %}
{% load settingsvalue %}
{% load url from future %}
{% load i18n %}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>注册</title>
    <link href="/static/css/base.css" rel="stylesheet" type="text/css"/>
    <link href="/static/css/login.css" rel="stylesheet" type="text/css"/>
    <script src="/static/js/jquery.min.js" type="text/javascript"></script>
    <script src="/static/js/yz.js" type="text/javascript"></script>
    <script type="text/javascript" src="/static/js/sendtime.js"></script>
    <!--[if gte IE 8]>
<script src="js/placeholder.min.js"></script>
<![endif]-->
    <script>
        function show() {
            code.style.display = "block";
        }
        function hide() {
            code.style.display = "none";
        }
    </script>
</head>

<body>
{% include "header.html" %}
<div id="signup_content">
    <div class="signup_mid">
        <div class="bglogo" style="width: 100%;">
            <img src="/static/images/bglogo.jpg" width="100%" >
        </div>
      <form class="registerform" action="{% url 'register' %}" method="post" name="form1">
          <ul id="signup_ul1">
			 <ul class="log_text">
                <li style="font-size:32px;margin-left:240px;margin-top:15px;">
                  <label>注册111111111</label>
                </li>
                <li style="border-top:1px solid #eeeef0;width:505px;height:1px;margin-left:4px;">
                  <div></div>
                </li>
             </ul>
             <ul class="singup_call">                    
                <li>
                    <label> 手机号码：</label>
                </li>
                <li id="call_inp">
                    <label class="call_lbl" style="float:left;z-index:999">{{ form.username }}</label>
                    <label style="float:left;"><div style="margin-left:-2px;border:0px solid #000;width:90px;height:52px;"></div></label>
                {#              <input type="button" value="验证用户名是否存在？" name="un_valid" onclick="check_valid()">#}
                </li>
                <li style="clear:both"></li>
              </ul>
              <ul class="signup_pwd">
                <li>
                    <label> 密码：</label>                    
                </li>
                <li id="pwd_inp">
                    <label class="pwd_lbl" style="float:left; z-index:999">{{ form.password }}</label>
                    <label style="float:left"><div style="border:0px solid #000;width:90px;height:52px;"></div></label>                      
                    
                </li>
               	<li style="clear:both"></li>
              </ul>
              <ul class="signup_copwd">
                    <li>              
                        <label>确认密码：</label>
                    </li>
                    <li id="copwd_inp">
                    	<label style="float:left;">{{ form.password2 }}</label>      
                        <label style="float:left"><div style="border:0px solid #000;width:90px;height:52px;"></div></label>
                    </li>
                    <li style="clear:both"></li>
              </ul>
              <ul class="signup_yzcode">
                  <li>
                      <label class="label">验证码：</label>
                  </li>
                  <li id="sms_inp">
                      <label style="float:left">{{ form.vcode }}</label>
                      <label style="float:left;margin-left:5px;"><img onclick="this.setAttribute('src',{% url 'verifycode' %} + '?nocache='+Math.random());"
                           src="{% url 'verifycode' %}"/></label>
                      <label style="float:left"><div style="border:0px solid #000;width:90px;height:52px;"></div></label>
                  </li>
                  <li style="clear:both"></li>
               </ul>  		     
              <ul class="singup_smscode">
                    <li>
                        <label class="label">短信验证码：</label>
                    </li>
                    <li id="yzcode_inp">
                        <label style="float:left">{{ form.smscode }}</label>
                        <label><input type="button" id="rulesubmit" style="float:left;color:#FFFFFF; background-color:#4a3c70;border:1px solid #4a3c70; border-radius:10px;-webkit-border-radius:3px;z-index:1;width:94px;height:50px;left:100px;margin-left:5px;" value="发送验证码" /></label>
                        <label style="float:left"><div style="border:0px solid #000;width:90px;height:52px;"></div></label>                   
                        
                    </li>
                    <li style="clear:both"></li>                                 
              </ul>
             
          
               <ul class="signup_agree">
                    <li>
                        <hr />
                    </li>		
                    <li>
                        <div style=" margin-left:160px;">注册即视为同意葡萄藤金服<a href="/agreement/"><<服务条款>></a></div>
                    </li>
                    <li>
                        <hr />
                    </li>
                        <li>
                        <input type="submit" class="login_butt" id="login" value=" " class="border:0 none;" style="background:url(/static/images/zhuce.png);background-repeat:no-repeat;color:white;margin-top:10px; margin-left:10px;width:512px; height:59px" />
                    </li>
                    <li style="width:520px;height:40px;postion:absolute;">
					   <div style="float:left;padding-left:330px;">  <img src="/static/images/smalllogo.png" /></div>
                       <div style="width:150px;margin-top:14px; float:right;font-size:12px;">已有葡萄藤金服账号,<a href="{% url 'login' %}">登录</a></div>
                    </li>                   
                </ul>
          </ul>
      </form>
    </div>
</div>	
<script type="text/javascript">
    $(function () {
        {% if form.username.errors %}
            {% for error in form.username.errors %}
                alert('{{ error }}');
            {% endfor %}

        {% elif form.password.errors %}
            {% for error in form.password.errors %}
                alert('{{ error }}');
            {% endfor %}

        {% elif form.password2.errors %}
            {% for error in form.password2.errors %}
                alert('{{ error }}');
            {% endfor %}

        {% elif form.smscode.errors %}
            {% for error in form.smscode.errors %}
                alert('{{ error }}');
            {% endfor %}

        {% elif form.vcode.errors %}
            {% for error in form.vcode.errors %}
                alert('{{ error }}');
            {% endfor %}
        {% endif %}

        //$(".registerform").Validform();  //就这一行代码！;
        var demo = $(".registerform").Validform({
            tiptype: 3,
            label: ".label",
            showAllError: true,
            datatype: {
                "zh1-6": /^[\u4E00-\u9FA5\uf900-\ufa2d]{1,6}$/
            },
            ajaxPost: false,
            callback:function(data){
                str = "success";
        }
        });

        //通过$.Tipmsg扩展默认提示信息;
        //$.Tipmsg.w["zh1-6"]="请输入1到6个字符！";
        demo.tipmsg.w["zh1-6"] = "请输入1到6个字符！";

        demo.addRule([
            {
                ele: "#id_username",
                datatype: "m"
            },
            {
                ele: "#id_password",
                datatype: "*6-20"
            },
            {
                ele: "#id_password2",
                datatype: "*6-20",
                recheck: "password"
            },
            {
                ele: "#id_vcode",
                datatype: "n4"
            },
            {
                ele: "#id_smscode",
                datatype: "n4"
            }
        ]);
    });
</script>
{% include "footer.html" %}
</body>
</html>
